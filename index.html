<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>æ¯äº²èŠ‚ç¥ç¦</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #fff;
            margin: 0;
            padding: 0;
        }
        #console-output {
            font-family: monospace;
            background-color: #f5f5f5;
            padding: 10px;
            margin: 20px auto;
            border-radius: 5px;
            width: 80%;
            white-space: pre-wrap;
            font-size: 24px;
        }
        .flower-image {
            max-width: 100%;
            height: auto;
            margin-top: 20px;
        }
        canvas {
            display: block;
            margin: 20px auto; /* è°ƒæ•´çˆ±å¿ƒcanvasçš„å¤–è¾¹è· */
            border: 1px solid #000; /* æ·»åŠ è¾¹æ¡†ä»¥ä¾¿äºæŸ¥çœ‹canvas */
        }
        h1 {
            margin: 40px 0 20px;
            font-size: 48px;/* è°ƒæ•´æ ‡é¢˜å¤–è¾¹è· */
        }
        p.attribution {
        font-size: 24px; /* è°ƒæ•´è¿™æ®µæ–‡å­—çš„å­—ä½“å¤§å° */
        margin-top: 40px; /* å¯ä»¥æ ¹æ®éœ€è¦è°ƒæ•´å¤–è¾¹è· */
    }
    </style>
</head>
<body>
    <h1>æ¯äº²èŠ‚ç¥ç¦</h1>
    <canvas id="heartCanvas"></canvas> <!-- æ”¾ç½®canvaså…ƒç´  -->
    <div id="console-output"></div>
    <img src="Flower.jpg" alt="èŠ±æœµ" class="flower-image">
    <p class="attribution">å¥³å„¿ æ•¬ä¸Š</p>

    <script>
        const stoptimeshort = 50; // çŸ­æš‚åœï¼Œå•ä½ä¸ºæ¯«ç§’
        const stoptimelong = 500; // é•¿æš‚åœï¼Œå•ä½ä¸ºæ¯«ç§’

        function printWithPause(text, pause, callback) {
            let index = 0;
            const outputElement = document.getElementById('console-output');
            function printNextChar() {
                if (index < text.length) {
                    outputElement.innerHTML += text.charAt(index);
                    index++;
                    setTimeout(printNextChar, pause);
                } else {
                    outputElement.innerHTML += '<br><br>';
                    callback();
                }
            }
            printNextChar();
        }

        const messages = [
            "èµ°è¿‡å²æœˆï¼Œæ‚¨çš„æ­¥ä¼å§‹ç»ˆä»å®¹",
            "å¹´åæµªæ¼«ï¼Œæ‚¨æ— æ‚”åœ°ç»½æ”¾ç¬‘å®¹",
            "æ‚¨å®‰é™åœ°æ²‰æ²¡äº†è‡ªå·±çš„ç¿çƒ‚",
            "åªä¸ºæŠŠæœ€å¥½çš„ä¸€åˆ‡ç•™ç»™æˆ‘ä»¬",
            "ä»Šå¤©æ˜¯æ‚¨çš„èŠ‚æ—¥",
            "äº²çˆ±çš„æ¯äº²",
            "æˆ‘æƒ³ç”¨æœ€ç®€å•çš„è¯è¯­",
            "è¡¨è¾¾æœ€æ·±çš„æƒ…æ„Ÿï¼š",
            "æ¯äº²èŠ‚å¿«ä¹",
            "æ„¿å¹¸ç¦å’Œå®‰åº·ä¸æ‚¨åŒåœ¨",
            "æ„Ÿè°¢æ‚¨åä¹å¹´çš„å…»è‚²",
            "å¦ˆå¦ˆæ‚¨è¾›è‹¦äº†",
            "æˆ‘çˆ±æ‚¨ï¼"];

        let currentMessageIndex = 0;
        const typeOutMessages = () => {
            if (currentMessageIndex < messages.length) {
                printWithPause(messages[currentMessageIndex], stoptimeshort, () => {
                    currentMessageIndex++;
                    setTimeout(typeOutMessages, stoptimelong);
                });
            }
        };

        window.onload = typeOutMessages;

        // åŠ¨æ€çˆ±å¿ƒæ•ˆæœçš„JavaScriptä»£ç 
        const canvas = document.getElementById('heartCanvas');
        const ctx = canvas.getContext('2d');
        const width = 640;
        const height = 480;
        const center = { x: width / 2, y: height / 2 };
        const heartColor = "#FFB0C9";
        const enlarge = 11;
        const message = "ğŸŒ¹ æ¯äº²èŠ‚å¿«ä¹ ğŸŒ¹";
        const fontSize = 36;

        canvas.width = width;
        canvas.height = height;

        function heartFunction(t) {
            let x = 16 * Math.pow(Math.sin(t), 3);
            let y = -(13 * Math.cos(t) - 5 * Math.cos(2 * t) - 2 * Math.cos(3 * t) - Math.cos(4 * t));
            x = x * enlarge + center.x;
            y = y * enlarge + center.y;
            return [x, y];
        }

        function animate(timestamp) {
            ctx.clearRect(0, 0, width, height);
            const scale = 1 + 0.5 * Math.sin(timestamp / 1000);

            for (let i = 0; i < 1000; i++) {
                const t = Math.random() * 2 * Math.PI;
                const [x, y] = heartFunction(t);
                const size = Math.random() * 3 + 1;
                ctx.beginPath();
                ctx.arc(x, y, size * scale, 0, 2 * Math.PI);
                ctx.fillStyle = heartColor;
                ctx.fill();
            }

            // ç»˜åˆ¶æ–‡å­—
            ctx.font = `${fontSize}px Arial`;
            ctx.fillStyle = heartColor;
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText(message, center.x, center.y + fontSize / 2); // è°ƒæ•´æ–‡å­—å‚ç›´ä½ç½®ï¼Œä½¿å…¶å±…ä¸­

            requestAnimationFrame(animate);
        }

        requestAnimationFrame(animate);
    </script>
</body>
</html>